"use strict";var fs=require("fs"),path=require("path"),chalk=require("chalk"),config=require(path.resolve("env.param.config")),MiniCssExtractPlugin=require("mini-css-extract-plugin"),packageConfig=require("../../package.json");exports.rootPath=function(e){return path.resolve(e)},exports.assetsPath=function(e){var s="production"===process.env.NODE_ENV?config.build.assetsSubDirectory:config.dev.assetsSubDirectory;return path.posix.join(s,e)},exports.cssLoaders=function(o){var a={loader:"css-loader",options:{sourceMap:(o=o||{}).sourceMap}},n={loader:"postcss-loader",options:{sourceMap:o.sourceMap}};function e(e,s){var r=[];o.extract?r.push(MiniCssExtractPlugin.loader):r.push("vue-style-loader"),r.push(a),o.usePostCSS&&r.push(n),e&&r.push({loader:e+"-loader",options:Object.assign({},s,{sourceMap:o.sourceMap})});var t=config.base.sassResources;return 0!==t.length&&"sass"===e&&r.push({loader:"sass-resources-loader",options:{resources:t}}),r}return{css:e(),postcss:e(),less:e("less",function(e){try{var s=config.base.themeConfig;return s.type===e&&s.switch?{modifyVars:s.theme}:{}}catch(e){return{}}}("less")),sass:e("sass",{indentedSyntax:!0}),scss:e("sass"),stylus:e("stylus"),styl:e("stylus")}},exports.styleLoaders=function(e){var s=[],r=exports.cssLoaders(e);for(var t in r){var o=r[t];s.push({test:new RegExp("\\."+t+"$"),use:o})}return s},exports.createNotifierCallback=function(){var o=require("node-notifier");return function(e,s){if("error"===e){var r=s[0],t=r.file&&r.file.split("!").pop();o.notify({title:packageConfig.name,message:e+": "+r.name,subtitle:t||"",icon:path.join(__dirname,"logo.png")})}}},exports.getJsonFile=function(e){var s=fs.readFileSync(path.resolve("./mock/data/"+e),"utf-8");return JSON.parse(s)},exports.getAliasPathConfig=function(){var s={vue$:"vue/dist/vue.esm.js","@":path.resolve("src")};try{return config.base.aliasPath.forEach(function(e){s.hasOwnProperty(e.name)||(s[e.name]=path.resolve(e.path))}),s}catch(e){return console.log("\n"),console.log(chalk.red("Warning: there are some errors in alias config , so use default config replace it.\n")),s}};