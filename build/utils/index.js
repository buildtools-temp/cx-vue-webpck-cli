"use strict";var fs=require("fs"),path=require("path"),chalk=require("chalk"),config=require(path.resolve("env.param.config")),MiniCssExtractPlugin=require("mini-css-extract-plugin"),packageConfig=require("../../package.json");exports.rootPath=function(s){return path.resolve(s)},exports.assetsPath=function(s){var e="production"===process.env.NODE_ENV?config.build.assetsSubDirectory:config.dev.assetsSubDirectory;return path.posix.join(e,s)},exports.cssLoaders=function(a){var t={loader:"css-loader",options:{sourceMap:(a=a||{}).sourceMap}},n={loader:"postcss-loader",options:{sourceMap:a.sourceMap}};function s(s,e){var r=[];a.extract?r.push(MiniCssExtractPlugin.loader):r.push("vue-style-loader"),r.push(t),a.usePostCSS&&r.push(n),s&&r.push({loader:s+"-loader",options:Object.assign({},e,{sourceMap:a.sourceMap})});var o=config.base.sassResources;return 0!==o.length&&"sass"===s&&r.push({loader:"sass-resources-loader",options:{resources:o}}),r}return{css:s(),postcss:s(),less:s("less"),sass:s("sass",{indentedSyntax:!0}),scss:s("sass"),stylus:s("stylus"),styl:s("stylus")}},exports.styleLoaders=function(s){var e=[],r=exports.cssLoaders(s);for(var o in r){var a=r[o];e.push({test:new RegExp("\\."+o+"$"),use:a})}return e},exports.createNotifierCallback=function(){var a=require("node-notifier");return function(s,e){if("error"===s){var r=e[0],o=r.file&&r.file.split("!").pop();a.notify({title:packageConfig.name,message:s+": "+r.name,subtitle:o||"",icon:path.join(__dirname,"logo.png")})}}},exports.getJsonFile=function(s){var e=fs.readFileSync(path.resolve("./mock/data/"+s),"utf-8");return JSON.parse(e)},exports.getAliasPathConfig=function(){var e={vue$:"vue/dist/vue.esm.js","@":path.resolve("src")};try{return config.base.aliasPath.forEach(function(s){e.hasOwnProperty(s.name)||(e[s.name]=path.resolve(s.path))}),e}catch(s){return console.log("\n"),console.log(chalk.red("Warning: there are some errors in alias config , so use default config replace it.\n")),e}};