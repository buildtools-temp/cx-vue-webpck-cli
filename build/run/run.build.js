"use strict";require("../utils/check-versions")(),process.env.NODE_ENV="production";var ora=require("ora"),rm=require("rimraf"),path=require("path"),chalk=require("chalk"),webpack=require("webpack"),utils=require("../utils"),config=require(utils.rootPath("env.param.config")),webpackConfig=require("../env/webpack.prod.conf"),spinner=ora("building for production...");spinner.start(),module.exports=rm(path.join(config.build.assetsRoot,config.build.assetsSubDirectory),function(e){if(e)throw e;webpack(webpackConfig,function(e,r){if(spinner.stop(),e)throw e;process.stdout.write(r.toString({colors:!0,modules:!1,children:!1,chunks:!1,chunkModules:!1})+"\n\n"),r.hasErrors()&&(console.log(chalk.red("  Build failed with errors.\n")),process.exit(1)),console.log(chalk.cyan("  Build complete.\n")),console.log(chalk.yellow("  Tip: built files are meant to be served over an HTTP server.\n  Opening index.html over file:// won't work.\n"))})});