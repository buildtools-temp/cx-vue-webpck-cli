"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}var path=require("path"),utils=require("../utils"),config=require(utils.rootPath("env.param.config")),vueLoaderConfig=require("./vue-loader.conf");function resolve(e){return path.join(__dirname,"../../",e)}var createLintingRule=function(){return{test:/\.(js|vue)$/,loader:"eslint-loader",enforce:"pre",include:[resolve("src"),resolve("test")],options:{formatter:require("eslint-friendly-formatter"),emitWarning:!config.dev.showEslintErrorsInOverlay}}},rules=[].concat(_toConsumableArray(config.dev.useEslint?[createLintingRule()]:[]),[{test:/\.vue$/,loader:"vue-loader",options:vueLoaderConfig},{test:/\.js$/,loader:"babel-loader?cacheDirectory",include:[resolve("src"),resolve("test"),resolve("node_modules/webpack-dev-server/client")]},{test:/\.(png|jpe?g|gif|svg)(\?.*)?$/,loader:"url-loader",options:{limit:1e4,name:utils.assetsPath("img/[name].[hash:7].[ext]")}},{test:/\.(mp4|webm|ogg|mp3|wav|flac|aac)(\?.*)?$/,loader:"url-loader",options:{limit:1e4,name:utils.assetsPath("media/[name].[hash:7].[ext]")}},{test:/\.(woff2?|eot|ttf|otf)(\?.*)?$/,loader:"url-loader",options:{limit:1e4,name:utils.assetsPath("fonts/[name].[hash:7].[ext]")}}]),isDev="development"===process.env.NODE_ENV,styleRules=utils.styleLoaders(isDev?{sourceMap:config.dev.devCssSourceMap,usePostCSS:config.dev.usePostCSS}:{sourceMap:config.build.prodCssSourceMap,extract:config.build.extract,usePostCSS:config.build.usePostCSS});module.exports=[].concat(_toConsumableArray(rules),_toConsumableArray(styleRules));